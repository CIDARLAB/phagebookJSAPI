<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Phagebook Test Page</title>
        <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>

        <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/q.js/1.0.0/q.js"></script>
        
        <script type="text/javascript" src="../phagebookAPI.js"></script>

        <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css">
        <script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>

    </head>
    <body>
        <button id="connect" type="button" class="btn btn-primary btn-lg">Connect</button>
        <button id="createStatus" type="button" class="btn btn-success btn-lg">Create Status</button>
        <button id="getProjects" type="button" class="btn btn-success btn-lg">Get Projects</button>
        <button id="getProject" type="button" class="btn btn-success btn-lg">Get Project</button>
        <button id="createProjectStatus" type="button" class="btn btn-success btn-lg">Create Project Status</button>
        <button id="getOrders" type="button" class="btn btn-success btn-lg">Get Orders</button>
        <button id="getOrder" type="button" class="btn btn-success btn-lg">Get Order</button>
        <button id="changeOrderingStatus" type="button" class="btn btn-success btn-lg">Change Order Status</button>

        <script>
            $(document).ready(function() { 
                $("#connect").click(function() {
                	console.log(Phagebook);
                	alert("Check console for connectivity. Now, go to local Phagebook and create a project and an order.");
                });
                $("#createStatus").click(function() {
                    Phagebook.createStatus("joonhohan365@gmail.com","12345","Weehee PB API Works! ID:" + Math.random()).then(function(data) {
                        alert(data);
                    }).done();
                });
                $("#getProjects").click(function() {
                    Phagebook.getProjects("joonhohan365@gmail.com","12345").then(function(data) {
                    	window.tempProjectID = data[0];
                        alert(data);
                    }).done();
                });
                $("#getProject").click(function() {
                    Phagebook.getProject("joonhohan365@gmail.com","12345",tempProjectID).then(function(data) {
                        alert(data);
                    }).done();
                });
                $("#createProjectStatus").click(function() {
                    Phagebook.createProjectStatus("joonhohan365@gmail.com","12345",tempProjectID,"Project status #" + Math.random()).then(function(data) {
                        alert(data);
                    }).done();
                });
                $("#getOrders").click(function() {
                    Phagebook.getOrders("joonhohan365@gmail.com","12345").then(function(data) {
                    	window.tempOrderID = data[0];
                        alert(data);
                    }).done();
                });
                $("#getOrder").click(function() {
                	Phagebook.getOrder("joonhohan365@gmail.com","12345",tempOrderID).then(function(data){
                		alert(data);
                	});
                });
                $("#changeOrderingStatus").click(function() {
                    Phagebook.createProjectStatus("joonhohan365@gmail.com","12345",tempOrderID,"Order status #" + Math.random()).then(function(data) {
                        alert(data);
                    }).done();
                });
            });
        </script>
    </body>
</html>